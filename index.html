<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>
        The life of Misteur Lachance
    </title>
    <style>
        body{
            height:100%;
            max-height:100%;
        }
        .wrapper{
            width:960px;
            margin:0 auto;
            position:relative;
        }
        .game{
            height:680px;
        }
        .hidden{
            visibility: hidden;
        }

        canvas{
            position:absolute;
            top:0;left: 0;right:0;bottom:0;
            z-index:0;
        }
        #debugCanvas{
            z-index:1;
        }
    </style>
    <script src="https://code.createjs.com/createjs-2015.05.21.min.js"></script>
    <script type="text/javascript" src="libs/Box2dWeb-2.1.a.3.min.js"></script>
    <script src="game/ui/UIBase.js"></script>
    <script src="game/ui/ProgressBar.js"></script>
    <script src="game/ui/JoyStick.js"></script>
    <script src="game/ui/GaugeBar.js"></script>
    <script src="game/ui/DDRSlot.js"></script>
	
    <script src="game/minigames/steps/MiniGameStepBase.js"></script>
    <script src="game/minigames/steps/DDRStep.js"></script>
    <script src="game/minigames/steps/SweetSpotStep.js"></script>
	
    <script src="game/minigames/MiniGameBase.js"></script>
    <script src="game/minigames/RemoteMiniGame.js"></script>
    <script src="game/minigames/GlassesMiniGame.js"></script>
	
    <script src="game/minigames/MiniGameBridge.js"></script>
    <script src="game/utils/Controls.js"></script>
    <script src="game/ui/Camera.js"></script>
    <script src="game/actors/actor.js"></script>
    <script src="game/actors/player.js"></script>
    <script src="game/state/StateGame.js"></script>
    <script src="game/state/StateMainMenu.js"></script>
    <script src="game/maps/map.js"></script>
    <script src="game/world.js"></script>
    <script src="game/game.js"></script>
    <!-- <script src="game.js"></script> -->
</head>

<body>
    <div class="wrapper game">
        <canvas id="canvas" width="960px" height="680px"></canvas>
        <canvas id="debugCanvas" width="9600px" height="680px"></canvas>

    </div>
    <div class="wrapper">
        <button class="toggleDebug" onclick="toggleDebug();">
            toggle debug
        </button>
        <button class="toggleDebug" onclick="launchMiniGame(0);">
            launch GLASSES MiniGame
        </button>
        <button class="toggleDebug" onclick="launchMiniGame(1);">
            launch REMOTE MiniGame
        </button>
    </div>
    <script>
        var game = new Game();

        var debugCanvas = document.getElementById("debugCanvas");
		
		toggleDebug();

        function launchMiniGame($index){
			if(game.isMiniGameBridgeReady)
			{
				console.log("TOOOOOOOOO");
				game.miniGamBridge.openMiniGame("mini_game_"+$index);
			}
		}
		
        function toggleDebug(){
            if(debugCanvas.className.match(/(?:^|\s)hidden(?!\S)/)){
                debugCanvas.className = debugCanvas.className.replace( /(?:^|\s)hidden(?!\S)/g , '' );
            }else{
                debugCanvas.className += "hidden";
            }
        }		
	</script>
</body>
</html>